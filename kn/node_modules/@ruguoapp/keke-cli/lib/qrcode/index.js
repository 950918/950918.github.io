const program = require('commander')
const qrcode = require('qrcode-terminal')
const chalk = require('chalk')

function generateQrcode (msg, command) {
  const small = !command.big
  console.info(chalk.green('msg:'), chalk.blue(msg))
  qrcode.generate(msg, { small: small })
}

program
  .command('qrcode <msg>')
  .description(`在终端显示内容为<msg>的二维码。`)
  .option('--big [boolean]', 'generate bigger qrcode')
  .action(generateQrcode)

module.exports = generateQrcode
