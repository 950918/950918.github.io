const axios = require('axios').default

const instance = axios.create()
instance.interceptors.response.use(function (response) {
  return response
}, function (error) {
  if (error.response.status === 403 || error.response.status === 401) {
    return Promise.reject(new Error(`${error.response.status}未登录或token已过期，请运行keke login来重新登录。`))
  }
  return Promise.reject(error)
})
module.exports = instance
